<div *ngIf="isLoading" class="loading-overlay">
    <app-loading-spinner></app-loading-spinner>
</div>

<div *ngIf="!isLoading" class="gridster-container">
    <gridster [options]="gridsterOptions">
        <gridster-item *ngFor="let item of gridsterItems" [item]="item">
            <ng-container *ngIf="item['chartIndex'] !== undefined">
                <mat-card class="chart-card">
                    <ag-charts-angular [options]="options[item['chartIndex']]"></ag-charts-angular>
                </mat-card>
            </ng-container>
            <ng-container *ngIf="item['isGrid']">
                <mat-card class="grid-card">
                    <app-grid [rowData]="rowData" [columnDefs]="colDefs" #gridComponent></app-grid>
                </mat-card>
            </ng-container>
            <ng-container *ngIf="item['isMetrics']">
                <mat-card class="metrics-card">
                    <mat-card-title>{{ InventoryReport.title }}</mat-card-title>
                    <mat-card-content>
                        <ul>
                            <li *ngFor="let metric of InventoryReport.metrics | keyvalue">
                                {{ metric.value }}
                            </li>
                        </ul>
                    </mat-card-content>
                </mat-card>
            </ng-container>
        </gridster-item>
    </gridster>
    <mat-toolbar class="back-toolbar">
        <button mat-flat-button class="btn" (click)="back()">
            <mat-icon>arrow_back</mat-icon> Back To Reports
        </button>
    </mat-toolbar>
</div>

