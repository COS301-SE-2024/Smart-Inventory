<div class="inventory-report-container">
    <div *ngIf="isLoading" class="loading-overlay">
        <app-loading-spinner></app-loading-spinner>
    </div>

    <div *ngIf="!isLoading">
        <div class="grid-wrapper">
            <app-grid [rowData]="rowData" [columnDefs]="colDefs" #gridComponent></app-grid>
        </div>
        <div class="report-row">
            <div class="chart-wrapper large">
                <mat-card class="chart-card">
                    <mat-card-content>
                        <app-stackedbarchart [data]="stackedBarChartData"></app-stackedbarchart>
                    </mat-card-content>
                </mat-card>
            </div>
            <div class="metrics-wrapper">
                <mat-card class="metrics-card">
                    <mat-card-header>
                        <mat-card-title>{{ OrderReport.title }}</mat-card-title>
                        <mat-card-subtitle>{{ OrderReport.subtitle }}</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <mat-list>
                            <mat-list-item *ngFor="let metric of OrderReport.metrics | keyvalue">
                                <mat-icon matListItemIcon>{{ metric.value.icon }}</mat-icon>
                                <span matListItemTitle>{{ metric.value.text }}</span>
                            </mat-list-item>
                        </mat-list>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
        <div class="report-row">
            <div class="chart-wrapper large" style="height: 400px">
                <mat-card class="chart-card">
                    <mat-card-content>
                        <app-scatterplot [data]="scatterPlotChartData"></app-scatterplot>
                    </mat-card-content>
                </mat-card>
            </div>
            <div class="metrics-wrapper">
                <mat-card class="metrics-card">
                    <app-donuttemplate [orderData]="rowData"></app-donuttemplate>
                </mat-card>
            </div>
        </div>
        <div class="back-toolbar">
            <button mat-flat-button class="btn" (click)="back()">
                <mat-icon>arrow_back</mat-icon> Back To Reports
            </button>
        </div>
    </div>
</div>
