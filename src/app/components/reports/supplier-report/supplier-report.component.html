<div style="height: 100%; display: block; overflow: scroll; overflow-x: hidden;">
    <mat-toolbar style="width: 100%">
        <button mat-button style="width: 100%; background-color: #f1f1f1; color: black" (click)="back()">
            Back to reports
        </button>
    </mat-toolbar>

    <!-- <div class="grid-container">
    <div class="arrow-container"  (click)="showNextTiles()">
        <mat-icon class="arrow-icon">keyboard_arrow_down</mat-icon>
    </div> -->
    <!-- <mat-grid-list cols="3" rowHeight="210px"> -->

    <!-- <mat-grid-tile *ngFor="let tile of tiles.slice(currentIndex, currentIndex + 3)" class="tile" gutterSize="15px">
            <div class="icon-container">
                <mat-icon [attr.aria-label]="tile.iconLabel" class="metric-icon">{{ tile.icon }}</mat-icon>
            </div>
            <div class="content">
                <h3 class="metric-title">{{ tile.metricName }}</h3>
                <div class="details">
                    <p class="metric-value">{{ tile.value }}</p>
                    <span class="metric-info">{{ tile.additionalInfo }}</span>
                </div>
            </div>
        </mat-grid-tile> -->
    <!-- </mat-grid-list> -->
    <div class="carousel-navigation">
        <button mat-icon-button (click)="scrollTiles('left')"><mat-icon>chevron_left</mat-icon></button>
        <button mat-icon-button (click)="scrollTiles('right')"><mat-icon>chevron_right</mat-icon></button>
    </div>
    <!-- </div> -->
    <mat-grid-list cols="8" rowHeight="29vh" gutterSize="20px">

        <div class="carousel-wrapper">
            <div #carousel class="tile-wrapper">
                <mat-grid-tile *ngFor="let tile of visibleTiles" class="tile" gutterSize="10px" [colspan]="1"
                    [rowspan]="1">
                    <div class="icon-container">
                        <mat-icon [attr.aria-label]="tile.iconLabel" class="metric-icon">{{ tile.icon }}</mat-icon>
                    </div>
                    <div class="content">
                        <h3 class="metric-title">{{ tile.metricName }}</h3>
                        <div class="details">
                            <p class="metric-value">{{ tile.value }}</p>
                            <span class="metric-info">{{ tile.additionalInfo }}</span>
                        </div>
                    </div>
                </mat-grid-tile>
            </div>
        </div>
        <mat-grid-tile [colspan]="8" [rowspan]="2">
            <div style="padding: 10px 10px 10px 10px; width: 100%">
                <div class="inventoryHolder">
                    <app-grid [rowData]="rowData" [columnDefs]="colDefs" #gridComponent></app-grid>
                </div>
            </div>
        </mat-grid-tile>
        <mat-grid-tile [colspan]="2" [rowspan]="2">
            <div style="padding: 10px 10px 10px 10px; height: 100%; width: 100%">
                <mat-card style="height: 100%; width: 100%">
                    <mat-card-title style="margin-left: 15px; margin-top: 15px; font-size: 25px;"> {{
                        SupplierReport.title }} </mat-card-title>
                    <mat-card-content style="align-items: center">
                        <ul style="list-style: none; padding: 0; margin: 0">
                            <li *ngFor="let metric of SupplierReport.metrics"
                                style="font-size: 15px; padding: 8px 0; border-bottom: 1px solid lightgrey">
                                {{ metric.name }}: {{ metric.value }}
                            </li>
                        </ul>
                    </mat-card-content>
                </mat-card>
            </div>
        </mat-grid-tile>
        <mat-grid-tile [colspan]="6" [rowspan]="2">
            <div style="padding: 10px 10px 10px 10px; height: 100%; width: 100%">
                <mat-card style="height: 100%; width: 100%">
                    <app-line-bar></app-line-bar>
                </mat-card>
            </div>
        </mat-grid-tile>

        <mat-grid-tile [colspan]="4" [rowspan]="2">
            <div style="padding: 10px; height: 100%; width: 100%;">
                <mat-card style="height: 100%; width: 100%;">
                    <app-line *ngIf="chartData" [title]="chartData.title + ' Comparison'"
                        [xAxisData]="chartData.xAxisData" 
                        [seriesData]="chartData.seriesData"></app-line>
                </mat-card>
            </div>
        </mat-grid-tile>

        <mat-grid-tile [colspan]="4" [rowspan]="2">
            <div style="padding: 10px 10px 10px 10px; height: 100%; width: 100%">
                <mat-card style="height: 100%; width: 100%">
                    <app-radar></app-radar>
                </mat-card>
            </div>
        </mat-grid-tile>

        <!-- <mat-grid-tile [colspan]="3" [rowspan]="2"> -->
        <!-- <div style="padding: 10px 10px 10px 10px; height: 100%; width: 100%"> -->
        <!-- <app-dynamic-graph></app-dynamic-graph> -->
        <!-- </div> -->
        <!-- </mat-grid-tile> -->
        <!-- </mat-grid-list> -->
        <!-- </div>  -->

        <div *ngIf="isLoading" class="loading-overlay">
            <app-loading-spinner></app-loading-spinner>
        </div>